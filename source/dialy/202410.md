# 202410

## audible ping
- `% ping -a 1.1.1.1`
- `% echo '\a'`
```
     -A      Audible.  Output a bell (ASCII 0x07) character when no packet is received
             before the next packet is transmitted.  To cater for round-trip times
             that are longer than the interval between transmissions, further missing
             packets cause a bell only if the maximum number of unreceived packets has
             increased.

     -a      Audible.  Include a bell (ASCII 0x07) character in the output when any
             packet is received.  This option is ignored if other format options are
             present.
```

## [UNIX今日の技/index](https://lab.kuas.ac.jp/~ippei94da/unixtodaystips/index.html)
- [経験値倉庫](https://lab.kuas.ac.jp/~ippei94da/index.html)

## [水曜日のダウンタウン説ジェネレータ | devroom](https://devroom.azurewebsites.net/Generator/Wednesday)

## aliasで引数を取りたい
- csh/tcshでいう `\!*` とか
- 結局bashもzshも `alias hoge='(){echo $@}'` とかfunction化するしかないっぽい．

## [Python3.13で登場したGIL無効化オプションを試してみた｜Tak](https://note.com/wa1st_tak/n/n4197b37bd9c4)

## [“つないだその先、豊かな未来へ　Full Ahead！全速前進！”海底ケーブルを敷設し、そして守り続けていく使命を背負う企業 | NTT技術ジャーナル](https://journal.ntt.co.jp/article/29843)

## [db tech showcase | crazy about database technology](https://www.db-tech-showcase.com/)

## [OpenObserve | Open Source Observability Platform for Logs, Metrics, Traces, and More – Your Ultimate Dashboard for Alerts and Insights](https://openobserve.ai/)

## pythonでmainを定義するのはなぜか
```
def a():
    pass

def main():
    return 0

if __name__ == "__main__":
    sys.exit(main())
```
というよくあるパターン．この形式にするメリットがいくつかある
- `if __name__ == "__main__":` で実行を制御することでimportしても単体として呼び出しても利用できる
  - このブロックなしに生で描くと，importで呼び出されても実行されてしまう
- `def main():` して `if __name__ == "__main__":` から呼ぶことでvariablesのスコープを明らかにできる
  - `if __name__ == "__main__":` に `main()` の処理を展開して書いてしまうと，variablesがglobalになってしまうので，`def main()` して閉じ込められるメリットがある
- 上記のような機能的な部分もありつつ，単に"見やすい"などの理由で採用されることもしばしば．

## [Suno](https://suno.com/)

## [Udio | AI Music Generator - Official Website](https://www.udio.com/)

## [JPAAWGについて](https://www.jpaawg.org/index.html)

## [BERMAS（バーマス）公式サイト | 高機能スーツケースとビジネスバッグ](https://www.bermas.co.jp/)

## [Cloudflare の新しいロードバランサ Pingora を試してみる - Cybozu Inside Out | サイボウズエンジニアのブログ](https://blog.cybozu.io/entry/2024/10/01/170000#Pingora-%E5%85%A5%E9%96%80)

## [opensdn – Open Fabric Networking for All!](https://opensdn.io/)

## [Windows 仮想マシンの TPM 通信をキャプチャ・改ざんする](https://io.cyberdefense.jp/entry/tpmproxy-qemu-swtpm/)

## [会議のファシリテーションをほめてもらった - Mitsuyuki.Shiiba](https://bufferings.hatenablog.com/entry/2024/09/11/235421)

## [OWASP Foundation, the Open Source Foundation for Application Security | OWASP Foundation](https://owasp.org/)

## [ハンロンの剃刀 - Wikipedia](https://ja.wikipedia.org/wiki/%E3%83%8F%E3%83%B3%E3%83%AD%E3%83%B3%E3%81%AE%E5%89%83%E5%88%80)

## [IAM permissions reference | IAM Documentation | Google Cloud](https://cloud.google.com/iam/docs/permissions-reference)
- GCPの権限とロールの組み合わせを検索できる．

## [GitHub - omarryhan/aiogoogle: Async Google API Client + Async Google Auth](https://github.com/omarryhan/aiogoogle)

## [GitHub - nttcom/ksot: Network IaC using Go](https://github.com/nttcom/ksot)

## [Rui Ueyama on X: "ifやforループで済むところをポリモーフィズムやコールバックを使って書く必要はない というか多くの場合は普通にifやループで書いてくれた方が読みやすい気がする" / X](https://x.com/rui314/status/1844350118054834393)

## [Declarative Network API | nmstate](https://nmstate.io/)

## [CommVault、日本のクラウド市場獲得を狙う ～CTCがNTTコミュニケーションズのクラウド環境上でSimpanaの動作対応を確認～ | CommVault Systems Japan株式会社のプレスリリース](https://www.dreamnews.jp/press/0000078203/)
-  [第一回、最新！データ統合管理ソリューション CommVault Simpana のご紹介！ - ネットワールド らぼ](https://blogs.networld.co.jp/entry/commvault-simpa-33ec?_gl=1*1xup3x2*_gcl_au*NDM0MDQyNzUzLjE3Mjg2NzQ4NTA.)

## appolicationでlistenさせるIPでなにが変わるのかの再整理
- 0.0.0.0/0, localhost, 127.0.0.1, 10.0.0.1(interface address) など様々な指定方法があるが，それぞれどう違うのかを再整理

## pythonでmutable objectを引数とかで渡すときの注意
- mutable objectに対して変更を加える場合に注意が必要
  - mutable objectに対してmehtod内部で変更を加える場合，`copy.copy()`, `copy.deepcopy()`, default引数をmutableにせず`None`等にして内部処理で初期化する，などの工夫が必要．
    - リストは `copy.copy()` のほか，slice `hoge[:]` でも `copy.copy()` と同様の操作が可能．
    ```
    >>> _headers = ["Title", "Description", "Remarks"]
    >>> print(_headers)
    ['Title', 'Description', 'Remarks']
    >>> print(id(_headers))
    4298737984
    >>>
    >>> _headers = _headers[:]
    >>> print(_headers)
    ['Title', 'Description', 'Remarks']
    >>> print(id(_headers))
    4299265024
    ```
- default argに注意
  - デフォルト引数の評価は定義したときにしかされない．
    - 定義時にdefualt引数の右辺のmutable objectのidを参照する形で初期化されると考える．
    - [うぉ！Pythonで引数のデフォルト値をミュータブルな型にした結果 #初心者 - Qiita](https://qiita.com/Vermee81/items/eb6c43cae896b3a3bb48)
    - [Pythonの関数でmutableなデフォルト引数を設定した際の挙動を確認してみる | DevelopersIO](https://dev.classmethod.jp/articles/python_func_default_arg/)
    - [8. 複合文 (compound statement) — Python 3.12.7 ドキュメント](https://docs.python.org/ja/3.12/reference/compound_stmts.html#function-definitions)
    ```
    デフォルト引数値は関数定義が実行されるときに左から右へ評価されます。 これは、デフォルト引数の式は関数が定義されるときにただ一度だけ評価され、同じ "計算済みの" 値が呼び出しのたびに使用されることを意味します。この仕様を理解しておくことは特に、デフォルト引数値がリストや辞書のようなミュータブルなオブジェクトであるときに重要です: 関数がこのオブジェクトを変更 (例えばリストに要素を追加) すると、このデフォルト引数値が変更の影響を受けてしまします。一般には、これは意図しない動作です。このような動作を避けるには、デフォルト値として None を使い、この値を関数本体の中で明示的にテストします。例えば以下のようにします:

    def whats_on_the_telly(penguin=None):
        if penguin is None:
            penguin = []
        penguin.append("property of the zoo")
        return penguin
    ```
  - `None` で受けて中で初期化するべき
  ```
  >>> def test_method(data=[]):
  ...   data += ["append"]
  ...   return data
  ...
  >>> print(test_method())
  ['append']
  >>> print(test_method())
  ['append', 'append']
  >>>
  ```
  ```
  >>> def test_method(data=None):
  ...   data = [] if data is None else data
  ...   data += ["append"]
  ...   return data
  ...
  >>> print(test_method())
  ['append']
  >>> print(test_method())
  ['append']
  >>>
  ```

## qcow2を小さくする
- zero埋め領域の開放，圧縮
  - `qemu-img convert -O qcow2 hoge.qcow2.orig hoge.qcow2`
    - zero埋めされた領域が省略される
      - つまり，diskができるだけzero埋めされていたほうが小さくなる．
      - filesystem上から削除されていても，実体として消えてないとimageとしては未開放扱いにみえるので，ddとかでfs的に開放されているが実体が残っている領域をzero埋めするとより効率が良い
        `dd if=/dev/zero of=/tmp/hoge && rm -f /tmp/hoge`
  - `qemu-img convert -c -O qcow2 hoge.qcow2.orig hoge.qcow2`
    - compress付き
    ```
      '-c' indicates that target image must be compressed (qcow format only)
    ```
- 事前事後確認
  - `qemu-img info hoge.qcow2`
  - image sizeとか実領域sizeがわかる
